<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memory Game</title>
    <style>
        table {
            border-collapse: collapse;
        }
        td {
            border: 1px solid black;
            width: 30px;
            height: 30px;
            text-align: center;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>Zapamatuj si vyobrazen√© symboly</h1>
    <table id="grid"></table>

    <script>
        // Define symbols and grid size
        const SYMBOLS = ['*', '#', '$', '&', '@'];
        const GRID_SIZE = 6;
        const PAUSE_TIME = 4000; // 4 seconds pause

        let correctGuesses = 0;
        let round = 1;

        // Function to generate a random grid of symbols and display it for 2 seconds
        function generateAndDisplayGrid() {
            const grid = document.getElementById('grid');
            grid.innerHTML = ''; // Clear previous grid

            for (let i = 0; i < GRID_SIZE; i++) {
                const row = document.createElement('tr');
                for (let j = 0; j < GRID_SIZE; j++) {
                    const cell = document.createElement('td');
                    cell.textContent = SYMBOLS[Math.floor(Math.random() * SYMBOLS.length)];
                    row.appendChild(cell);
                }
                grid.appendChild(row);
            }

            setTimeout(displaySymbol, PAUSE_TIME); // Call function to display symbol after pause
        }

        // Function to display one of the symbols from the grid for 2 seconds
        function displaySymbol() {
            const grid = document.getElementById('grid');
            const cells = grid.getElementsByTagName('td');
            const randomIndex = Math.floor(Math.random() * cells.length);
            const symbol = cells[randomIndex].textContent;

            // Hide the grid
            grid.innerHTML = '';

            // Display the symbol for 2 seconds
            const symbolCell = document.createElement('td');
            symbolCell.textContent = symbol;
            grid.appendChild(symbolCell);

            setTimeout(function() {
                grid.innerHTML = ''; // Clear the symbol after 2 seconds
                displayEmptyGrid(); // Call function to display empty grid
            }, PAUSE_TIME); // Hide symbol after pause
        }

        // Function to display an empty grid for the user to guess the symbol location
        function displayEmptyGrid() {
            const grid = document.getElementById('grid');

            for (let i = 0; i < GRID_SIZE; i++) {
                const row = document.createElement('tr');
                for (let j = 0; j < GRID_SIZE; j++) {
                    const cell = document.createElement('td');
                    cell.textContent = '';
                    cell.addEventListener('click', function() {
                        checkGuess(i, j);
                    });
                    row.appendChild(cell);
                }
                grid.appendChild(row);
            }
        }

        // Function to check if the user's guess matches the symbol location
        function checkGuess(row, col) {
            correctGuesses++;

            if (round < 10) {
                round++;
                setTimeout(generateAndDisplayGrid, PAUSE_TIME); // Generate a new grid after pause for the next round
            } else {
                showResults();
            }
        }

        // Function to display the final results
        function showResults() {
            const accuracy = (correctGuesses / 10) * 100;
            alert(`Game Over!\nCorrect Guesses: ${correctGuesses}\nAccuracy: ${accuracy.toFixed(2)}%`);
            // Reset the game
            correctGuesses = 0;
            round = 1;
            generateAndDisplayGrid(); // Start a new game
        }

        // Start the game by generating and displaying the initial grid
        generateAndDisplayGrid();
    </script>
</body>
</html>
